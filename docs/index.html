<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A fast, computationally efficient Highly Adaptive LASSO (HAL) • hal9001</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">hal9001</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/benchmarks_hal9001.html">Benchmarks for the `hal9001` Package</a>
    </li>
    <li>
      <a href="articles/intro_hal9001.html">Introduction to the HAL estimator</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jeremyrcoyle/hal9001">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<section id="rhal9001" class="level1"><div class="page-header"><h1>R/<code>hal9001</code>
</h1></div>

<blockquote>
<p><em>Fast</em> and <em>scalable</em> estimation procedure for the Highly Adaptive LASSO</p>
</blockquote>
<p><strong>Authors:</strong> <a href="https://github.com/jeremyrcoyle">Jeremy Coyle</a> and <a href="https://nimahejazi.org">Nima Hejazi</a></p>
<hr>
<section id="whats-hal9001" class="level2"><h2>What’s <code>hal9001</code>?</h2>
<p><code>hal9001</code> is an R package providing an implementation of the Highly Adaptive LASSO (HAL), a nonparametric regression estimator that applies L1-regularized regression (i.e., the LASSO) to a design matrix composed of indicator functions corresponding to a set of covariates and interactions thereof, in a standard statistical learning problem. Recent theoretical results show that HAL is endowed with several important properties that make it optimally suited for the purpose of inference in problem settings where causal parameters are estimated via data-adaptive techniques (i.e., machine learning), as is the case within the framework of Targeted Minimum Loss-Based Estimation (TMLE). While it is certainly possible to implement HAL purely in R, the computationally intensive nature of the algorithm suggests that writing core routines in C++ (and making these available in R via the <a href="http://www.rcpp.org/">Rcpp</a> framework) ought to provide significant efficiency gains. <code>hal9001</code> is just such an implementation.</p>
<hr></section><section id="installation" class="level2"><h2>Installation</h2>
<!--
For standard use, we recommend installing the package from
[CRAN](https://cran.r-project.org/) via


```r
install.packages("hal9001")
```
-->
<p>You can install the development version of <code>hal9001</code> from GitHub via <a href="https://www.rstudio.com/products/rpackages/devtools/"><code>devtools</code></a> with</p>
<pre class="sourceCode r" id="cb1"><code class="sourceCode r"><div class="sourceLine" id="cb1-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"jeremyrcoyle/hal9001"</span>)</div></code></pre>
<hr></section><section id="issues" class="level2"><h2>Issues</h2>
<p>If you encounter any bugs or have any specific feature requests, please <a href="https://github.com/jeremyrcoyle/hal9001/issues">file an issue</a>.</p>
<hr></section><section id="example" class="level2"><h2>Example</h2>
<p>This minimal example shows how to use <code>hal9001</code> to obtain predictions based on the Highly Adaptive LASSO. For details on the properties of the estimator, the interested reader is referred to <span class="citation" data-cites="benkeser2016hal">@benkeser2016hal</span> and <span class="citation" data-cites="vdl2017generally">@vdl2017generally</span>.</p>
<pre class="sourceCode r" id="cb2"><code class="sourceCode r"><div class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># load the hal9001 package</span></div>
<div class="sourceLine" id="cb2-2" data-line-number="2">
<span class="kw">library</span>(hal9001)</div>
<div class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; hal9001: A fast and scalable Highly Adaptive LASSO</span></div>
<div class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; Version: 0.0.5.1</span></div>
<div class="sourceLine" id="cb2-5" data-line-number="5"></div>
<div class="sourceLine" id="cb2-6" data-line-number="6"><span class="co"># simulate data</span></div>
<div class="sourceLine" id="cb2-7" data-line-number="7">
<span class="kw">set.seed</span>(<span class="dv">385971</span>)</div>
<div class="sourceLine" id="cb2-8" data-line-number="8">n =<span class="st"> </span><span class="dv">100</span>
</div>
<div class="sourceLine" id="cb2-9" data-line-number="9">p =<span class="st"> </span><span class="dv">3</span>
</div>
<div class="sourceLine" id="cb2-10" data-line-number="10">x &lt;-<span class="st"> </span>xmat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(n <span class="op">*</span><span class="st"> </span>p), n, p)</div>
<div class="sourceLine" id="cb2-11" data-line-number="11">y &lt;-<span class="st"> </span><span class="kw">sin</span>(x[, <span class="dv">1</span>]) <span class="op">*</span><span class="st"> </span><span class="kw">sin</span>(x[, <span class="dv">2</span>]) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n, <span class="fl">0.2</span>)</div>
<div class="sourceLine" id="cb2-12" data-line-number="12"></div>
<div class="sourceLine" id="cb2-13" data-line-number="13"><span class="co"># fit the HAL regression</span></div>
<div class="sourceLine" id="cb2-14" data-line-number="14">hal_fit &lt;-<span class="st"> </span><span class="kw"><a href="reference/fit_hal.html">fit_hal</a></span>(<span class="dt">X =</span> x, <span class="dt">Y =</span> y)</div>
<div class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; [1] "Look Dave, I can see you're really upset about this. I honestly think you ought to sit down calmly, take a stress pill, and think things over."</span></div>
<div class="sourceLine" id="cb2-16" data-line-number="16">hal_fit<span class="op">$</span>times</div>
<div class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt;                   user.self sys.self elapsed user.child sys.child</span></div>
<div class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt; design_matrix         0.004    0.001   0.005          0         0</span></div>
<div class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt; remove_duplicates     0.006    0.001   0.007          0         0</span></div>
<div class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt; lasso                 1.168    0.054   1.183          0         0</span></div>
<div class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt; total                 1.178    0.056   1.195          0         0</span></div>
<div class="sourceLine" id="cb2-22" data-line-number="22"></div>
<div class="sourceLine" id="cb2-23" data-line-number="23"><span class="co"># training sample prediction</span></div>
<div class="sourceLine" id="cb2-24" data-line-number="24">preds &lt;-<span class="st"> </span><span class="kw">predict</span>(hal_fit, <span class="dt">new_data =</span> x)</div>
<div class="sourceLine" id="cb2-25" data-line-number="25">
<span class="kw">mean</span>(hal_mse &lt;-<span class="st"> </span>(preds <span class="op">-</span><span class="st"> </span>y)<span class="op">^</span><span class="dv">2</span>)</div>
<div class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt; [1] 1.163029</span></div></code></pre>
<hr></section><section id="contributions" class="level2"><h2>Contributions</h2>
<p><code>hal9001</code> is the primary implementation of the Highly Adaptive LASSO, an estimator with numerous optimality properties, especially useful when employing <a href="http://www.targetedlearningbook.com/about/">Targeted Learning</a>. To that end, contributions are very welcome, though we ask that interested contributors consult our <a href="https://github.com/jeremyrcoyle/hal9001/blob/master/CONTRIBUTING.md"><code>contribution guidelines</code></a> prior to submitting a pull request.</p>
<hr></section><section id="citation" class="level2"><h2>Citation</h2>
<p>After using the <code>hal9001</code> R package, please cite the following:</p>
<pre><code>    @misc{coyle2017hal9001,
      author = {Coyle, Jeremy R and Hejazi, Nima S},
      title = {{hal9001}: A fast and scalable {Highly Adaptive LASSO}},
      year  = {2017},
      howpublished = {\url{https://github.com/jeremyrcoyle/hal9001}},
      url = {http://dx.doi.org/DOI_TBD},
      doi = {DOI_TBD}
    }</code></pre>
<hr></section><section id="license" class="level2"><h2>License</h2>
<p>© 2017 <a href="https://github.com/jeremyrcoyle">Jeremy R. Coyle</a> &amp; <a href="http://nimahejazi.org">Nima S. Hejazi</a></p>
<p>The contents of this repository are distributed under the GPL-3 license. See file <code>LICENSE</code> for details.</p>
</section></section>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/jeremyrcoyle/hal9001">https://​github.com/​jeremyrcoyle/​hal9001</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jeremyrcoyle/hal9001/issues">https://​github.com/​jeremyrcoyle/​hal9001/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jeremy Coyle <br><small class="roles"> Author, maintainer </small> <br><small>(0000-0002-9874-6649)</small>
</li>
<li>Nima Hejazi <br><small class="roles"> Author </small> <br><small>(0000-0002-7127-2789)</small>
</li>
<li><a href="authors.html">All authors...</a></li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/jeremyrcoyle/hal9001"><img src="https://travis-ci.org/jeremyrcoyle/hal9001.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/jeremyrcoyle/hal9001"><img src="https://ci.appveyor.com/api/projects/status/github/jeremyrcoyle/hal9001?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/github/jeremyrcoyle/hal9001?branch=master"><img src="https://img.shields.io/codecov/c/github/jeremyrcoyle/hal9001/master.svg" alt="Coverage Status"></a></li>
<li><a href="http://www.repostatus.org/#wip"><img src="http://www.repostatus.org/badges/latest/wip.svg" alt="Project Status: WIP – Initial development is in progress, but there has not yet been a stable, usable release suitable for the public."></a></li>
<li><a href="http://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPL%20v3-blue.svg" alt="License: GPL v3"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jeremy Coyle, Nima Hejazi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
